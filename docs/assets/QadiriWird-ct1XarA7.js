import{d as ve,r as n,c as v,w as R,a as ge,o as fe,b as me,u as he,e as i,f as r,g as e,h as x,i as g,j as w,F as _,k as f,v as I,t as m,l as pe,m as O,n as Z,p as F,q as be,s as xe,T as we,x as J,y as _e,z as ye,_ as Se}from"./main--xp89H9k.js";const h=y=>(_e("data-v-387e49b8"),y=y(),ye(),y),ke={class:"flex justify-between items-center mb-4"},Te={key:0,class:"text-3xl font-bold"},We={class:"flex gap-2"},Ce={key:0,class:"controls mb-4 p-4 bg-gray-100 rounded-lg"},Ie={class:"collapse collapse-arrow"},Fe=h(()=>e("input",{type:"checkbox"},null,-1)),ze=h(()=>e("div",{class:"collapse-title text-xl font-medium"}," Settings ",-1)),qe={class:"collapse-content"},Me={class:"flex flex-wrap items-center gap-4 mb-2"},Ee={class:"flex items-center"},Le=h(()=>e("label",{for:"fontSize",class:"mr-2"},"Font Size:",-1)),Ne={class:"ml-2"},Pe={class:"flex items-center"},He=h(()=>e("label",{for:"textColor",class:"mr-2"},"Text:",-1)),Be={class:"flex items-center"},De=h(()=>e("label",{for:"backgroundColor",class:"mr-2"},"Background:",-1)),Qe={class:"flex flex-wrap items-center gap-2"},Ve=h(()=>e("label",{for:"transitionSelect",class:"mr-2"},"Transition:",-1)),$e=["value"],je={class:"flex flex-wrap items-center gap-2 mt-2"},Ue={key:0,class:"loading loading-spinner loading-lg"},Ae={key:1},Xe=["innerHTML"],Ge=["innerHTML"],Ke=["innerHTML"],Re=["disabled"],Oe={class:"flex items-center"},Ze=["max"],Je=["disabled"],Ye=300,et=ve({__name:"QadiriWird",setup(y){const Q=n("left"),a=n([]),s=n(0),S=n(!0),k=n(!0),z=n(!1),T=n(""),u=n(parseInt(localStorage.getItem("qadiriWirdFontSize")||"24")),p=n(localStorage.getItem("qadiriWirdTextColor")||"#229B36"),d=n(localStorage.getItem("qadiriWirdBackgroundColor")||"#E1D5D0"),Y=n(null);let V=0,$=0;const ee=[{value:"slide",label:"Slide"},{value:"fade",label:"Fade"},{value:"zoom",label:"Zoom"},{value:"flip",label:"Flip"},{value:"slideFade",label:"Slide and Fade"},{value:"bounce",label:"Bounce"},{value:"pageTurn",label:"Page Turn"}],W=n(localStorage.getItem("qadiriWirdTransition")||"slide"),te=o=>{const t=o.target,l=parseInt(t.value,10);q.value=l},oe=()=>{s.value=0},le=()=>{S.value=!S.value},ae=()=>{k.value=!k.value},j=o=>o?o.replace(/<br>/g," "):"",U=o=>o.split(/\n\s*\n/).map(t=>t.trim()).filter(t=>t.length>0&&t!=="Qadiri Wird").map(t=>t.replace(/\n/g,"<br>"));v(()=>a.value[s.value]||""),v(()=>a.value[s.value-1]||""),v(()=>a.value[s.value+1]||"");const q=v({get:()=>s.value+1,set:o=>{s.value=N(o-1)}}),A=v(()=>C.value?Math.min(B.value*.75,18):B.value*.75),se=async()=>{z.value=!0,T.value="";try{const b="https://api.github.com/repos/yashineonline/ilahiRepository/contents/qadiriWird.txt";console.log("Fetching Qadiri Wird from GitHub:",b);const D=await fetch(b,{headers:{Accept:"application/vnd.github.v3.raw"}});if(!D.ok)throw new Error(`HTTP error! status: ${D.status}`);const K=await D.text();console.log("Fetched text:",K.substring(0,100)+"..."),a.value=U(K),console.log("Split wird:",a.value)}catch(o){console.error("Error fetching Qadiri Wird from GitHub:",o);try{console.log("Fetching Qadiri Wird from local file");const t=await fetch("/qadiriWird.txt");if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const l=await t.text();console.log("Fetched text from local file:",l.substring(0,100)+"..."),a.value=U(l),console.log("Split wird from local file:",a.value)}catch(t){console.error("Error fetching local Qadiri Wird:",t),T.value="Failed to load Qadiri Wird. Please try again later."}}finally{z.value=!1,s.value=0}},M=()=>{s.value<a.value.length-1&&(s.value=N(s.value+1),Q.value="left")},E=()=>{s.value>0&&(s.value=N(s.value-1),Q.value="right")};let X=0;const L=o=>{const t=new Date().getTime();t-X>Ye&&(o.key==="ArrowLeft"?E():o.key==="ArrowRight"&&M(),X=t)},ne=o=>{V=o.touches[0].clientX},ie=o=>{$=o.touches[0].clientX},re=()=>{const o=V-$;Math.abs(o)>50&&(o>0?M():E())},N=o=>Math.max(0,Math.min(o,a.value.length-1));R([u,p,d],([o,t,l])=>{localStorage.setItem("qadiriWirdFontSize",o.toString()),localStorage.setItem("qadiriWirdTextColor",t),localStorage.setItem("qadiriWirdBackgroundColor",l)}),R(W,o=>{localStorage.setItem("qadiriWirdTransition",o)}),ge(()=>{localStorage.getItem("qadiriWirdFontSize")||localStorage.setItem("qadiriWirdFontSize",u.value.toString()),localStorage.getItem("qadiriWirdTextColor")||localStorage.setItem("qadiriWirdTextColor",p.value),localStorage.getItem("qadiriWirdBackgroundColor")||localStorage.setItem("qadiriWirdBackgroundColor",d.value)});const C=n(!1),P=()=>{C.value=window.innerWidth<768};fe(async()=>{console.log("QadiriWird component mounted");try{await se(),console.log("Fetched Wird:",a.value),console.log("Number of parts:",a.value.length),console.log("First part:",a.value[0]),console.log("Last part:",a.value[a.value.length-1])}catch(o){console.error("Error fetching Wird:",o)}document.addEventListener("keydown",L),P(),window.addEventListener("resize",P)}),me(()=>{document.removeEventListener("keydown",L),window.removeEventListener("resize",P)});const c=n(!1),H=n(!1),G=he(),ce=()=>{c.value=!c.value,G.setNavigationVisibility(!c.value)},ue=()=>{H.value=!H.value},de=()=>{c.value=!1,G.setNavigationVisibility(!0)},B=v(()=>C.value?Math.min(u.value,24):u.value);return(o,t)=>(i(),r("div",{class:J(["qadiri-wird-container p-4",{fullscreen:c.value}])},[e("div",ke,[c.value?x("",!0):(i(),r("h1",Te,"Qadiri Wird")),e("div",We,[e("button",{onClick:ce,class:"btn btn-circle btn-sm"},[g(w(_),{icon:["fas",c.value?"compress":"expand"]},null,8,["icon"])]),e("button",{onClick:ue,class:"btn btn-circle btn-sm"},[g(w(_),{icon:["fas","cog"]})]),c.value?(i(),r("button",{key:0,onClick:de,class:"btn btn-circle btn-sm"},[g(w(_),{icon:["fas","arrow-left"]})])):x("",!0)])]),H.value?(i(),r("div",Ce,[e("div",Ie,[Fe,ze,e("div",qe,[e("div",Me,[e("div",Ee,[Le,f(e("input",{type:"range",id:"fontSize",min:"16",max:"132","onUpdate:modelValue":t[0]||(t[0]=l=>u.value=l),class:"range range-primary w-32 custom-range"},null,512),[[I,u.value]]),e("span",Ne,m(u.value)+"px",1)]),e("div",Pe,[He,f(e("input",{type:"color",id:"textColor","onUpdate:modelValue":t[1]||(t[1]=l=>p.value=l),class:"w-8 h-8"},null,512),[[I,p.value]])]),e("div",Be,[De,f(e("input",{type:"color",id:"backgroundColor","onUpdate:modelValue":t[2]||(t[2]=l=>d.value=l),class:"w-8 h-8"},null,512),[[I,d.value]])])]),e("div",Qe,[Ve,f(e("select",{id:"transitionSelect","onUpdate:modelValue":t[3]||(t[3]=l=>W.value=l),class:"select select-primary select-sm bg-white"},[(i(),r(O,null,Z(ee,l=>e("option",{key:l.value,value:l.value},m(l.label),9,$e)),64))],512),[[pe,W.value]]),e("div",je,[e("button",{onClick:oe,class:"btn btn-primary btn-sm"},"Restart"),e("button",{onClick:le,class:"btn btn-secondary btn-sm"},m(S.value?"Hide":"Show")+" Previous ",1),e("button",{onClick:ae,class:"btn btn-secondary btn-sm"},m(k.value?"Hide":"Show")+" Next ",1)])])])])])):x("",!0),e("div",{class:"wird-display p-4 rounded-lg shadow-lg flex flex-col items-center",style:F({fontSize:`${B.value}px`,color:p.value,backgroundColor:d.value}),ref_key:"wirdDisplay",ref:Y,onTouchstart:ne,onTouchmove:ie,onTouchend:re,tabindex:"0",onKeydown:L},[z.value?(i(),r("div",Ue)):T.value?(i(),r("div",Ae,m(T.value),1)):(i(),r("div",{key:2,class:"relative flex flex-col h-[60vh] w-full mx-auto shadow-lg rounded-lg",style:F({backgroundColor:d.value})},[S.value?(i(),r("div",{key:0,class:"flex-shrink-0 w-full p-2 text-gray-400 text-center",style:F({fontSize:`${A.value}px`})},[e("div",{innerHTML:j(a.value[s.value-1])},null,8,Xe)],4)):x("",!0),g(we,{name:W.value,tag:"div",mode:"out-in",class:"flex-grow flex items-center justify-center overflow-auto"},{default:be(()=>[(i(!0),r(O,null,Z(a.value,(l,b)=>f((i(),r("div",{key:b,class:"w-full h-full flex items-center justify-center p-4 overflow-y-auto"},[e("div",{class:"wird-part-content",innerHTML:l},null,8,Ge)])),[[xe,s.value===b]])),128))]),_:1},8,["name"]),k.value?(i(),r("div",{key:1,class:"flex-shrink-0 w-full p-2 text-gray-400 text-center",style:F({fontSize:`${A.value}px`})},[e("div",{innerHTML:j(a.value[s.value+1])},null,8,Ke)],4)):x("",!0)],4)),e("div",{class:J(["navigation mt-4 flex justify-between items-center w-full",{mobile:C.value}])},[e("button",{onClick:E,class:"btn btn-circle",disabled:s.value===0},[g(w(_),{icon:["fas","chevron-left"]})],8,Re),e("div",Oe,[f(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>q.value=l),type:"number",min:"1",max:a.value.length,class:"w-16 text-center mr-2 bg-white",onChange:te},null,40,Ze),[[I,q.value,void 0,{number:!0}]]),e("span",null,"/ "+m(a.value.length),1)]),e("button",{onClick:M,class:"btn btn-circle",disabled:s.value===a.value.length-1},[g(w(_),{icon:["fas","chevron-right"]})],8,Je)],2)],36)],2))}}),ot=Se(et,[["__scopeId","data-v-387e49b8"]]);export{ot as default};
