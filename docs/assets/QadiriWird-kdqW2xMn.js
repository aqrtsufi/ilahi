import{d as fe,r as n,c as d,w as O,a as he,o as me,b as pe,u as be,e as i,f as r,g as t,h as w,i as g,j as y,F as _,k as f,v as z,t as h,l as xe,m as Z,n as J,p as F,q as we,s as ye,T as _e,x as Y,y as Se,z as ke,_ as Te}from"./main-d6qZqctS.js";const m=S=>(Se("data-v-1ff116f6"),S=S(),ke(),S),We={class:"flex justify-between items-center mb-4"},Ce={key:0,class:"text-3xl font-bold"},Ie={class:"flex gap-2"},ze={key:0,class:"controls mb-4 p-4 bg-gray-100 rounded-lg"},Fe={class:"collapse collapse-arrow"},qe=m(()=>t("input",{type:"checkbox"},null,-1)),He=m(()=>t("div",{class:"collapse-title text-xl font-medium"}," Settings ",-1)),Me={class:"collapse-content"},Ee={class:"flex flex-wrap items-center gap-4 mb-2"},Le={class:"flex items-center"},Ne=m(()=>t("label",{for:"fontSize",class:"mr-2"},"Font Size:",-1)),Pe={class:"ml-2"},Be={class:"flex items-center"},De=m(()=>t("label",{for:"textColor",class:"mr-2"},"Text:",-1)),Qe={class:"flex items-center"},Ve=m(()=>t("label",{for:"backgroundColor",class:"mr-2"},"Background:",-1)),$e={class:"flex flex-wrap items-center gap-2"},je=m(()=>t("label",{for:"transitionSelect",class:"mr-2"},"Transition:",-1)),Ue=["value"],Ae={class:"flex flex-wrap items-center gap-2 mt-2"},Re={key:0,class:"loading loading-spinner loading-lg"},Xe={key:1},Ge=["innerHTML"],Ke=["innerHTML"],Oe=["innerHTML"],Ze=["disabled"],Je={class:"flex items-center"},Ye=["max"],et=["disabled"],tt=300,lt=fe({__name:"QadiriWird",setup(S){const V=n("left"),a=n([]),s=n(0),k=n(!0),T=n(!0),q=n(!1),W=n(""),c=n(parseInt(localStorage.getItem("qadiriWirdFontSize")||"24")),p=n(localStorage.getItem("qadiriWirdTextColor")||"#229B36"),v=n(localStorage.getItem("qadiriWirdBackgroundColor")||"#E1D5D0"),C=n(null);let $=0,j=0;const ee=[{value:"slide",label:"Slide"},{value:"fade",label:"Fade"},{value:"zoom",label:"Zoom"},{value:"flip",label:"Flip"},{value:"slideFade",label:"Slide and Fade"},{value:"bounce",label:"Bounce"},{value:"pageTurn",label:"Page Turn"}],I=n(localStorage.getItem("qadiriWirdTransition")||"slide"),te=l=>{const e=l.target,o=parseInt(e.value,10);H.value=o},le=()=>{s.value=0},oe=()=>{k.value=!k.value},ae=()=>{T.value=!T.value},U=l=>l?l.replace(/<br>/g," "):"",A=l=>l.split(/\n\s*\n/).map(e=>e.trim()).filter(e=>e.length>0&&e!=="Qadiri Wird").map(e=>e.replace(/\n/g,"<br>"));d(()=>a.value[s.value]||""),d(()=>a.value[s.value-1]||""),d(()=>a.value[s.value+1]||"");const H=d({get:()=>s.value+1,set:l=>{s.value=N(l-1)}}),R=d(()=>b.value?Math.min(D.value*.75,100):D.value*.75),se=d(()=>b.value?"70vh":"80vh"),ne=()=>{const l=C.value;if(!l)return;let e=c.value;const o=l.querySelector(".wird-part-content");if(o){for(;o.scrollHeight>l.clientHeight&&e>12;)e--,o.style.fontSize=`${e}px`;for(;o.scrollHeight<l.clientHeight&&e<48;)e++,o.style.fontSize=`${e}px`;c.value=e}},ie=async()=>{q.value=!0,W.value="";try{const x="https://api.github.com/repos/yashineonline/ilahiRepository/contents/qadiriWird.txt";console.log("Fetching Qadiri Wird from GitHub:",x);const Q=await fetch(x,{headers:{Accept:"application/vnd.github.v3.raw"}});if(!Q.ok)throw new Error(`HTTP error! status: ${Q.status}`);const K=await Q.text();console.log("Fetched text:",K.substring(0,100)+"..."),a.value=A(K),console.log("Split wird:",a.value)}catch(l){console.error("Error fetching Qadiri Wird from GitHub:",l);try{console.log("Fetching Qadiri Wird from local file");const e=await fetch("/qadiriWird.txt");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const o=await e.text();console.log("Fetched text from local file:",o.substring(0,100)+"..."),a.value=A(o),console.log("Split wird from local file:",a.value)}catch(e){console.error("Error fetching local Qadiri Wird:",e),W.value="Failed to load Qadiri Wird. Please try again later."}}finally{q.value=!1,s.value=0}},M=()=>{s.value<a.value.length-1&&(s.value=N(s.value+1),V.value="left")},E=()=>{s.value>0&&(s.value=N(s.value-1),V.value="right")};let X=0;const L=l=>{const e=new Date().getTime();e-X>tt&&(l.key==="ArrowLeft"?E():l.key==="ArrowRight"&&M(),X=e)},re=l=>{$=l.touches[0].clientX},ce=l=>{j=l.touches[0].clientX},ue=()=>{const l=$-j;Math.abs(l)>50&&(l>0?M():E())},N=l=>Math.max(0,Math.min(l,a.value.length-1));O([c,p,v],([l,e,o])=>{localStorage.setItem("qadiriWirdFontSize",l.toString()),localStorage.setItem("qadiriWirdTextColor",e),localStorage.setItem("qadiriWirdBackgroundColor",o)}),O(I,l=>{localStorage.setItem("qadiriWirdTransition",l)}),he(()=>{localStorage.getItem("qadiriWirdFontSize")||localStorage.setItem("qadiriWirdFontSize",c.value.toString()),localStorage.getItem("qadiriWirdTextColor")||localStorage.setItem("qadiriWirdTextColor",p.value),localStorage.getItem("qadiriWirdBackgroundColor")||localStorage.setItem("qadiriWirdBackgroundColor",v.value)});const b=n(!1),P=()=>{b.value=window.innerWidth<768};me(async()=>{console.log("QadiriWird component mounted");try{await ie(),console.log("Fetched Wird:",a.value),console.log("Number of parts:",a.value.length),console.log("First part:",a.value[0]),console.log("Last part:",a.value[a.value.length-1])}catch(e){console.error("Error fetching Wird:",e)}const l=new ResizeObserver(ne);C.value&&l.observe(C.value),document.addEventListener("keydown",L),P(),window.addEventListener("resize",P)}),pe(()=>{document.removeEventListener("keydown",L),window.removeEventListener("resize",P)});const u=n(!1),B=n(!1),G=be(),de=()=>{u.value=!u.value,G.setNavigationVisibility(!u.value)},ve=()=>{B.value=!B.value},ge=()=>{u.value=!1,G.setNavigationVisibility(!0)},D=d(()=>b.value?Math.min(c.value,40):c.value);return(l,e)=>(i(),r("div",{class:Y(["qadiri-wird-container p-4",{fullscreen:u.value}])},[t("div",We,[u.value?w("",!0):(i(),r("h1",Ce,"Qadiri Wird")),t("div",Ie,[t("button",{onClick:de,class:"btn btn-circle btn-sm"},[g(y(_),{icon:["fas",u.value?"compress":"expand"]},null,8,["icon"])]),t("button",{onClick:ve,class:"btn btn-circle btn-sm"},[g(y(_),{icon:["fas","cog"]})]),u.value?(i(),r("button",{key:0,onClick:ge,class:"btn btn-circle btn-sm"},[g(y(_),{icon:["fas","arrow-left"]})])):w("",!0)])]),B.value?(i(),r("div",ze,[t("div",Fe,[qe,He,t("div",Me,[t("div",Ee,[t("div",Le,[Ne,f(t("input",{type:"range",id:"fontSize",min:"16",max:"132","onUpdate:modelValue":e[0]||(e[0]=o=>c.value=o),class:"range range-primary w-32 custom-range"},null,512),[[z,c.value]]),t("span",Pe,h(c.value)+"px",1)]),t("div",Be,[De,f(t("input",{type:"color",id:"textColor","onUpdate:modelValue":e[1]||(e[1]=o=>p.value=o),class:"w-8 h-8"},null,512),[[z,p.value]])]),t("div",Qe,[Ve,f(t("input",{type:"color",id:"backgroundColor","onUpdate:modelValue":e[2]||(e[2]=o=>v.value=o),class:"w-8 h-8"},null,512),[[z,v.value]])])]),t("div",$e,[je,f(t("select",{id:"transitionSelect","onUpdate:modelValue":e[3]||(e[3]=o=>I.value=o),class:"select select-primary select-sm bg-white"},[(i(),r(Z,null,J(ee,o=>t("option",{key:o.value,value:o.value},h(o.label),9,Ue)),64))],512),[[xe,I.value]]),t("div",Ae,[t("button",{onClick:le,class:"btn btn-primary btn-sm"},"Restart"),t("button",{onClick:oe,class:"btn btn-secondary btn-sm"},h(k.value?"Hide":"Show")+" Previous ",1),t("button",{onClick:ae,class:"btn btn-secondary btn-sm"},h(T.value?"Hide":"Show")+" Next ",1)])])])])])):w("",!0),t("div",{class:"wird-display p-4 rounded-lg shadow-lg flex flex-col items-center",style:F({fontSize:`${D.value}px`,color:p.value,backgroundColor:v.value,height:se.value}),ref_key:"wirdDisplay",ref:C,onTouchstart:re,onTouchmove:ce,onTouchend:ue,tabindex:"0",onKeydown:L},[q.value?(i(),r("div",Re)):W.value?(i(),r("div",Xe,h(W.value),1)):(i(),r("div",{key:2,class:"relative flex flex-col h-[60vh] w-full mx-auto shadow-lg rounded-lg",style:F({backgroundColor:v.value})},[k.value?(i(),r("div",{key:0,class:"flex-shrink-0 w-full p-2 text-gray-400 text-center",style:F({fontSize:`${R.value}px`})},[t("div",{innerHTML:U(a.value[s.value-1])},null,8,Ge)],4)):w("",!0),g(_e,{name:I.value,tag:"div",mode:"out-in",class:"flex-grow flex items-center justify-center overflow-auto"},{default:we(()=>[(i(!0),r(Z,null,J(a.value,(o,x)=>f((i(),r("div",{key:x,class:"w-full h-full flex items-center justify-center p-4 overflow-y-auto"},[t("div",{class:"wird-part-content",innerHTML:o},null,8,Ke)])),[[ye,s.value===x]])),128))]),_:1},8,["name"]),T.value?(i(),r("div",{key:1,class:"flex-shrink-0 w-full p-2 text-gray-400 text-center",style:F({fontSize:`${R.value}px`})},[t("div",{innerHTML:U(a.value[s.value+1])},null,8,Oe)],4)):w("",!0)],4)),t("div",{class:Y(["navigation mt-4 flex justify-between items-center w-full",{mobile:b.value}])},[t("button",{onClick:E,class:"btn btn-circle",disabled:s.value===0},[g(y(_),{icon:["fas","chevron-left"]})],8,Ze),t("div",Je,[f(t("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>H.value=o),type:"number",min:"1",max:a.value.length,class:"w-16 text-center mr-2 bg-white",onChange:te},null,40,Ye),[[z,H.value,void 0,{number:!0}]]),t("span",null,"/ "+h(a.value.length),1)]),t("button",{onClick:M,class:"btn btn-circle",disabled:s.value===a.value.length-1},[g(y(_),{icon:["fas","chevron-right"]})],8,et)],2)],36)],2))}}),at=Te(lt,[["__scopeId","data-v-1ff116f6"]]);export{at as default};
