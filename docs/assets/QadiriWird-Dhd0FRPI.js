import{d as Y,r as n,c as f,w as D,a as ee,o as te,b as oe,e as s,f as i,g as t,h as u,v as y,t as v,i as le,F as Q,j as V,n as S,k as $,l as ae,m as re,p as ne,T as se,q as ie,s as ce,_ as de}from"./main-DHMDtOzn.js";const h=p=>(ie("data-v-dafc6a4c"),p=p(),ce(),p),ue={class:"qadiri-wird-container p-4"},ve=h(()=>t("h1",{class:"text-3xl font-bold mb-4"},"Qadiri Wird",-1)),ge={class:"controls mb-4 p-4 bg-gray-100 rounded-lg"},me={class:"flex flex-wrap items-center gap-4 mb-2"},fe={class:"flex items-center"},he=h(()=>t("label",{for:"fontSize",class:"mr-2"},"Font Size:",-1)),pe={class:"ml-2"},xe={class:"flex items-center"},be=h(()=>t("label",{for:"textColor",class:"mr-2"},"Text:",-1)),we={class:"flex items-center"},_e=h(()=>t("label",{for:"backgroundColor",class:"mr-2"},"Background:",-1)),ye={class:"flex flex-wrap items-center gap-2"},Se=h(()=>t("label",{for:"transitionSelect",class:"mr-2"},"Transition:",-1)),ke=["value"],Te={class:"flex flex-wrap items-center gap-2 mt-2"},We={key:0,class:"loading loading-spinner loading-lg"},Ce={key:1},Ie=["innerHTML"],Fe=["innerHTML"],qe=["innerHTML"],ze={class:"navigation mt-4 flex justify-between items-center w-full"},Pe=["disabled"],Ee={class:"flex items-center"},Me=["max"],He=["disabled"],Le=300,Ne=Y({__name:"QadiriWird",setup(p){const z=n("left"),a=n([]),r=n(0),x=n(!0),b=n(!0),k=n(!1),w=n(""),c=n(parseInt(localStorage.getItem("qadiriWirdFontSize")||"24")),g=n(localStorage.getItem("qadiriWirdTextColor")||"#229B36"),d=n(localStorage.getItem("qadiriWirdBackgroundColor")||"#E1D5D0"),U=n(null);let P=0,E=0;const j=[{value:"slide",label:"Slide"},{value:"fade",label:"Fade"},{value:"zoom",label:"Zoom"},{value:"flip",label:"Flip"},{value:"slideFade",label:"Slide and Fade"},{value:"bounce",label:"Bounce"},{value:"pageTurn",label:"Page Turn"}],_=n(localStorage.getItem("qadiriWirdTransition")||"slide"),X=o=>{const e=o.target,l=parseInt(e.value,10);T.value=l},A=()=>{r.value=0},G=()=>{x.value=!x.value},K=()=>{b.value=!b.value},M=o=>o?o.replace(/<br>/g," "):"",H=o=>o.split(/\n\s*\n/).map(e=>e.trim()).filter(e=>e.length>0&&e!=="Qadiri Wird").map(e=>e.replace(/\n/g,"<br>"));f(()=>a.value[r.value]||""),f(()=>a.value[r.value-1]||""),f(()=>a.value[r.value+1]||"");const T=f({get:()=>r.value+1,set:o=>{r.value=F(o-1)}}),L=f(()=>window.innerWidth>=1024?`${c.value*.75}px`:"14px"),R=async()=>{k.value=!0,w.value="";try{const m="https://api.github.com/repos/yashineonline/ilahiRepository/contents/qadiriWird.txt";console.log("Fetching Qadiri Wird from GitHub:",m);const q=await fetch(m,{headers:{Accept:"application/vnd.github.v3.raw"}});if(!q.ok)throw new Error(`HTTP error! status: ${q.status}`);const B=await q.text();console.log("Fetched text:",B.substring(0,100)+"..."),a.value=H(B),console.log("Split wird:",a.value)}catch(o){console.error("Error fetching Qadiri Wird from GitHub:",o);try{console.log("Fetching Qadiri Wird from local file");const e=await fetch("/qadiriWird.txt");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const l=await e.text();console.log("Fetched text from local file:",l.substring(0,100)+"..."),a.value=H(l),console.log("Split wird from local file:",a.value)}catch(e){console.error("Error fetching local Qadiri Wird:",e),w.value="Failed to load Qadiri Wird. Please try again later."}}finally{k.value=!1,r.value=0}},W=()=>{r.value<a.value.length-1&&(r.value=F(r.value+1),z.value="left")},C=()=>{r.value>0&&(r.value=F(r.value-1),z.value="right")};let N=0;const I=o=>{const e=new Date().getTime();e-N>Le&&(o.key==="ArrowLeft"?C():o.key==="ArrowRight"&&W(),N=e)},O=o=>{P=o.touches[0].clientX},Z=o=>{E=o.touches[0].clientX},J=()=>{const o=P-E;Math.abs(o)>50&&(o>0?W():C())},F=o=>Math.max(0,Math.min(o,a.value.length-1));return D([c,g,d],([o,e,l])=>{localStorage.setItem("qadiriWirdFontSize",o.toString()),localStorage.setItem("qadiriWirdTextColor",e),localStorage.setItem("qadiriWirdBackgroundColor",l)}),D(_,o=>{localStorage.setItem("qadiriWirdTransition",o)}),ee(()=>{localStorage.getItem("qadiriWirdFontSize")||localStorage.setItem("qadiriWirdFontSize",c.value.toString()),localStorage.getItem("qadiriWirdTextColor")||localStorage.setItem("qadiriWirdTextColor",g.value),localStorage.getItem("qadiriWirdBackgroundColor")||localStorage.setItem("qadiriWirdBackgroundColor",d.value)}),te(async()=>{console.log("QadiriWird component mounted");try{await R(),console.log("Fetched Wird:",a.value),console.log("Number of parts:",a.value.length),console.log("First part:",a.value[0]),console.log("Last part:",a.value[a.value.length-1])}catch(o){console.error("Error fetching Wird:",o)}document.addEventListener("keydown",I)}),oe(()=>{document.removeEventListener("keydown",I)}),(o,e)=>(s(),i("div",ue,[ve,t("div",ge,[t("div",me,[t("div",fe,[he,u(t("input",{type:"range",id:"fontSize",min:"16",max:"48","onUpdate:modelValue":e[0]||(e[0]=l=>c.value=l),class:"range range-primary w-32 custom-range"},null,512),[[y,c.value]]),t("span",pe,v(c.value)+"px",1)]),t("div",xe,[be,u(t("input",{type:"color",id:"textColor","onUpdate:modelValue":e[1]||(e[1]=l=>g.value=l),class:"w-8 h-8"},null,512),[[y,g.value]])]),t("div",we,[_e,u(t("input",{type:"color",id:"backgroundColor","onUpdate:modelValue":e[2]||(e[2]=l=>d.value=l),class:"w-8 h-8"},null,512),[[y,d.value]])])]),t("div",ye,[Se,u(t("select",{id:"transitionSelect","onUpdate:modelValue":e[3]||(e[3]=l=>_.value=l),class:"select select-primary select-sm bg-white"},[(s(),i(Q,null,V(j,l=>t("option",{key:l.value,value:l.value},v(l.label),9,ke)),64))],512),[[le,_.value]]),t("div",Te,[t("button",{onClick:A,class:"btn btn-primary btn-sm"},"Restart"),t("button",{onClick:G,class:"btn btn-secondary btn-sm"},v(x.value?"Hide":"Show")+" Previous ",1),t("button",{onClick:K,class:"btn btn-secondary btn-sm"},v(b.value?"Hide":"Show")+" Next ",1)])])]),t("div",{class:"wird-display p-4 rounded-lg shadow-lg flex flex-col items-center",style:S({fontSize:`${c.value}px`,color:g.value,backgroundColor:d.value}),ref_key:"wirdDisplay",ref:U,onTouchstart:O,onTouchmove:Z,onTouchend:J,tabindex:"0",onKeydown:I},[k.value?(s(),i("div",We)):w.value?(s(),i("div",Ce,v(w.value),1)):(s(),i("div",{key:2,class:"relative flex flex-col h-[60vh] w-full mx-auto shadow-lg rounded-lg",style:S({backgroundColor:d.value})},[x.value?(s(),i("div",{key:0,class:"flex-shrink-0 w-full p-2 text-gray-400 text-center",style:S({fontSize:L.value})},[t("div",{innerHTML:M(a.value[r.value-1])},null,8,Ie)],4)):$("",!0),ae(se,{name:_.value,tag:"div",mode:"out-in",class:"flex-grow flex items-center justify-center overflow-auto"},{default:re(()=>[(s(!0),i(Q,null,V(a.value,(l,m)=>u((s(),i("div",{key:m,class:"w-full h-full flex items-center justify-center p-4 overflow-y-auto"},[t("div",{class:"wird-part-content",innerHTML:l},null,8,Fe)])),[[ne,r.value===m]])),128))]),_:1},8,["name"]),b.value?(s(),i("div",{key:1,class:"flex-shrink-0 w-full p-2 text-gray-400 text-center",style:S({fontSize:L.value})},[t("div",{innerHTML:M(a.value[r.value+1])},null,8,qe)],4)):$("",!0)],4)),t("div",ze,[t("button",{onClick:C,class:"btn btn-primary btn-sm",disabled:r.value===0},"< Previous",8,Pe),t("div",Ee,[u(t("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>T.value=l),type:"number",min:"1",max:a.value.length,class:"w-16 text-center mr-2 bg-white",onChange:X},null,40,Me),[[y,T.value,void 0,{number:!0}]]),t("span",null,"/ "+v(a.value.length),1)]),t("button",{onClick:W,class:"btn btn-primary btn-sm",disabled:r.value===a.value.length-1},"Next >",8,He)])],36)]))}}),De=de(Ne,[["__scopeId","data-v-dafc6a4c"]]);export{De as default};
