import{d as ue,r as n,c as v,w as K,a as de,o as ve,b as fe,u as ge,e as i,f as r,g as t,h as _,i as f,j as b,F as h,k as g,v as T,t as m,l as me,m as G,n as q,p as C,q as pe,s as be,T as he,x as O,_ as xe}from"./main-4zXkI-3f.js";const we={class:"flex justify-between items-center mb-4"},ye={key:0,class:"text-3xl font-bold"},Se={class:"flex gap-2"},ke={key:0,class:"controls mb-4 p-4 bg-gray-100 rounded-lg"},_e={class:"collapse collapse-arrow"},Te={class:"collapse-content"},Ce={class:"flex flex-wrap items-center gap-4 mb-2"},We={class:"flex items-center"},Ie={class:"ml-2"},ze={class:"flex items-center"},Fe={class:"flex items-center"},Me={class:"flex flex-wrap items-center gap-2"},Ee=["value"],Le={class:"flex flex-wrap items-center gap-2 mt-2"},Pe={key:0,class:"loading loading-spinner loading-lg"},Ne={key:1},He=["innerHTML"],Be=["innerHTML"],De=["innerHTML"],Re=["disabled"],Ve={class:"flex items-center"},$e=["max"],je=["disabled"],Ue=300,Ae=ue({__name:"RifaiWird",setup(Xe){const D=n("left"),s=n([]),o=n(0),x=n(!0),w=n(!0),W=n(!1),y=n(""),c=n(parseInt(localStorage.getItem("rifaiWirdFontSize")||"24")),p=n(localStorage.getItem("rifaiWirdTextColor")||"#000000"),d=n(localStorage.getItem("rifaiWirdBackgroundColor")||"#E1D5D0"),Z=n(null);let R=0,V=0;const J=[{value:"slide",label:"Slide"},{value:"fade",label:"Fade"},{value:"zoom",label:"Zoom"},{value:"flip",label:"Flip"},{value:"slideFade",label:"Slide and Fade"},{value:"bounce",label:"Bounce"},{value:"pageTurn",label:"Page Turn"}],S=n(localStorage.getItem("rifaiWirdTransition")||"slide"),Q=l=>{const e=l.target,a=parseInt(e.value,10);I.value=a},Y=()=>{o.value=0},ee=()=>{x.value=!x.value},te=()=>{w.value=!w.value},$=l=>l?l.replace(/<br>/g," "):"",j=l=>l.split(/\n\s*\n/).map(e=>e.trim()).filter(e=>e.length>0&&e!=="Rifai Wird").map(e=>e.replace(/\n/g,"<br>"));v(()=>s.value[o.value]||""),v(()=>s.value[o.value-1]||""),v(()=>s.value[o.value+1]||"");const I=v({get:()=>o.value+1,set:l=>{o.value=E(l-1)}}),U=v(()=>k.value?Math.min(N.value*.75,18):N.value*.75),le=async()=>{W.value=!0,y.value="";try{const B=await fetch("https://api.github.com/repos/yashineonline/ilahiRepository/contents/rifaiWird.txt",{headers:{Accept:"application/vnd.github.v3.raw"}});if(!B.ok)throw new Error(`HTTP error! status: ${B.status}`);const ce=await B.text();s.value=j(ce)}catch(l){console.error("Error fetching Rifai Wird from GitHub:",l);try{const e=await fetch("/rifaiWird.txt");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const a=await e.text();s.value=j(a)}catch(e){console.error("Error fetching local Rifai Wird:",e),y.value="Failed to load Rifai Wird. Please try again later."}}finally{W.value=!1,o.value=0}},z=()=>{o.value<s.value.length-1&&(o.value=E(o.value+1),D.value="left")},F=()=>{o.value>0&&(o.value=E(o.value-1),D.value="right")};let A=0;const M=l=>{const e=new Date().getTime();e-A>Ue&&(l.key==="ArrowLeft"?F():l.key==="ArrowRight"&&z(),A=e)},ae=l=>{R=l.touches[0].clientX},oe=l=>{V=l.touches[0].clientX},ne=()=>{const l=R-V;Math.abs(l)>50&&(l>0?z():F())},E=l=>Math.max(0,Math.min(l,s.value.length-1));K([c,p,d],([l,e,a])=>{localStorage.setItem("rifaiWirdFontSize",l.toString()),localStorage.setItem("rifaiWirdTextColor",e),localStorage.setItem("rifaiWirdBackgroundColor",a)}),K(S,l=>{localStorage.setItem("rifaiWirdTransition",l)}),de(()=>{localStorage.getItem("rifaiWirdFontSize")||localStorage.setItem("rifaiWirdFontSize",c.value.toString()),localStorage.getItem("rifaiWirdTextColor")||localStorage.setItem("rifaiWirdTextColor",p.value),localStorage.getItem("rifaiWirdBackgroundColor")||localStorage.setItem("rifaiWirdBackgroundColor",d.value)});const k=n(!1),L=()=>{k.value=window.innerWidth<768};ve(async()=>{try{await le()}catch(l){console.error("Error fetching Wird:",l)}document.addEventListener("keydown",M),L(),window.addEventListener("resize",L)}),fe(()=>{document.removeEventListener("keydown",M),window.removeEventListener("resize",L)});const u=n(!1),P=n(!1),X=ge(),se=()=>{u.value=!u.value,X.setNavigationVisibility(!u.value)},ie=()=>{P.value=!P.value},re=()=>{u.value=!1,X.setNavigationVisibility(!0)},N=v(()=>k.value?Math.min(c.value,24):c.value);return(l,e)=>(r(),i("div",{class:O(["rifai-wird-container p-4",{fullscreen:u.value}])},[t("div",we,[t("button",{onClick:re,class:"btn btn-circle btn-sm"},[f(b(h),{icon:["fas","arrow-left"]})]),u.value?_("",!0):(r(),i("h1",ye,"Rifai Wird")),t("div",Se,[t("button",{onClick:se,class:"btn btn-circle btn-sm"},[f(b(h),{icon:["fas",u.value?"compress":"expand"]},null,8,["icon"])]),t("button",{onClick:ie,class:"btn btn-circle btn-sm"},[f(b(h),{icon:["fas","cog"]})])])]),P.value?(r(),i("div",ke,[t("div",_e,[e[9]||(e[9]=t("input",{type:"checkbox"},null,-1)),e[10]||(e[10]=t("div",{class:"collapse-title text-xl font-medium"}," Settings ",-1)),t("div",Te,[t("div",Ce,[t("div",We,[e[5]||(e[5]=t("label",{for:"fontSize",class:"mr-2"},"Font Size:",-1)),g(t("input",{type:"range",id:"fontSize",min:"16",max:"132","onUpdate:modelValue":e[0]||(e[0]=a=>c.value=a),class:"range range-primary w-32 custom-range"},null,512),[[T,c.value]]),t("span",Ie,m(c.value)+"px",1)]),t("div",ze,[e[6]||(e[6]=t("label",{for:"textColor",class:"mr-2"},"Text:",-1)),g(t("input",{type:"color",id:"textColor","onUpdate:modelValue":e[1]||(e[1]=a=>p.value=a),class:"w-8 h-8"},null,512),[[T,p.value]])]),t("div",Fe,[e[7]||(e[7]=t("label",{for:"backgroundColor",class:"mr-2"},"Background:",-1)),g(t("input",{type:"color",id:"backgroundColor","onUpdate:modelValue":e[2]||(e[2]=a=>d.value=a),class:"w-8 h-8"},null,512),[[T,d.value]])])]),t("div",Me,[e[8]||(e[8]=t("label",{for:"transitionSelect",class:"mr-2"},"Transition:",-1)),g(t("select",{id:"transitionSelect","onUpdate:modelValue":e[3]||(e[3]=a=>S.value=a),class:"select select-primary select-sm"},[(r(),i(G,null,q(J,a=>t("option",{key:a.value,value:a.value},m(a.label),9,Ee)),64))],512),[[me,S.value]]),t("div",Le,[t("button",{onClick:Y,class:"btn btn-primary btn-sm"},"Restart"),t("button",{onClick:ee,class:"btn btn-secondary btn-sm"},m(x.value?"Hide":"Show")+" Previous ",1),t("button",{onClick:te,class:"btn btn-secondary btn-sm"},m(w.value?"Hide":"Show")+" Next ",1)])])])])])):_("",!0),t("div",{class:"wird-display p-4 rounded-lg shadow-lg flex flex-col items-center",style:C({fontSize:`${N.value}px`,color:p.value,backgroundColor:d.value}),ref_key:"wirdDisplay",ref:Z,onTouchstart:ae,onTouchmove:oe,onTouchend:ne,tabindex:"0",onKeydown:M},[W.value?(r(),i("div",Pe)):y.value?(r(),i("div",Ne,m(y.value),1)):(r(),i("div",{key:2,class:"relative flex flex-col h-[60vh] w-full mx-auto shadow-lg rounded-lg",style:C({backgroundColor:d.value})},[x.value?(r(),i("div",{key:0,class:"flex-shrink-0 w-full p-2 text-gray-400 text-center",style:C({fontSize:`${U.value}px`})},[t("div",{innerHTML:$(s.value[o.value-1])},null,8,He)],4)):_("",!0),f(he,{name:S.value,tag:"div",mode:"out-in",class:"flex-grow flex items-center justify-center overflow-auto"},{default:pe(()=>[(r(!0),i(G,null,q(s.value,(a,H)=>g((r(),i("div",{key:H,class:"w-full h-full flex items-center justify-center p-4 overflow-y-auto"},[t("div",{class:"wird-part-content",innerHTML:a},null,8,Be)])),[[be,o.value===H]])),128))]),_:1},8,["name"]),w.value?(r(),i("div",{key:1,class:"flex-shrink-0 w-full p-2 text-gray-400 text-center",style:C({fontSize:`${U.value}px`})},[t("div",{innerHTML:$(s.value[o.value+1])},null,8,De)],4)):_("",!0)],4)),t("div",{class:O(["navigation mt-4 flex justify-between items-center w-full",{mobile:k.value}])},[t("button",{onClick:F,class:"btn btn-circle",disabled:o.value===0},[f(b(h),{icon:["fas","chevron-left"]})],8,Re),t("div",Ve,[g(t("input",{"onUpdate:modelValue":e[4]||(e[4]=a=>I.value=a),type:"number",min:"1",max:s.value.length,class:"w-16 text-center mr-2",onChange:Q},null,40,$e),[[T,I.value,void 0,{number:!0}]]),t("span",null,"/ "+m(s.value.length),1)]),t("button",{onClick:z,class:"btn btn-circle",disabled:o.value===s.value.length-1},[f(b(h),{icon:["fas","chevron-right"]})],8,je)],2)],36)],2))}}),Ge=xe(Ae,[["__scopeId","data-v-3dc84861"]]);export{Ge as default};
