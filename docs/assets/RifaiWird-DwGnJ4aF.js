import{d as ve,r as n,c as v,w as O,a as fe,o as ge,b as me,u as he,e as i,f as r,g as e,h as f,i as x,F as w,j as C,k as g,v as I,t as m,l as pe,m as Z,n as J,p as F,q as be,s as xe,T as we,x as Q,y as _e,z as ye,_ as Se}from"./main-tm9nL3up.js";const h=_=>(_e("data-v-27d71fdf"),_=_(),ye(),_),ke={class:"flex justify-between items-center mb-4"},Te={key:0,class:"text-3xl font-bold"},We={class:"flex gap-2"},Ce={key:0,class:"controls mb-4 p-4 bg-gray-100 rounded-lg"},Ie={class:"collapse collapse-arrow"},Fe=h(()=>e("input",{type:"checkbox"},null,-1)),ze=h(()=>e("div",{class:"collapse-title text-xl font-medium"}," Settings ",-1)),Me={class:"collapse-content"},Ee={class:"flex flex-wrap items-center gap-4 mb-2"},Le={class:"flex items-center"},Ne=h(()=>e("label",{for:"fontSize",class:"mr-2"},"Font Size:",-1)),Pe={class:"ml-2"},Re={class:"flex items-center"},He=h(()=>e("label",{for:"textColor",class:"mr-2"},"Text:",-1)),Be={class:"flex items-center"},De=h(()=>e("label",{for:"backgroundColor",class:"mr-2"},"Background:",-1)),Ve={class:"flex flex-wrap items-center gap-2"},$e=h(()=>e("label",{for:"transitionSelect",class:"mr-2"},"Transition:",-1)),je=["value"],Ue={class:"flex flex-wrap items-center gap-2 mt-2"},Ae={key:0,class:"loading loading-spinner loading-lg"},Xe={key:1},Ge=["innerHTML"],Ke=["innerHTML"],qe=["innerHTML"],Oe=["disabled"],Ze={class:"flex items-center"},Je=["max"],Qe=["disabled"],Ye=300,et=ve({__name:"RifaiWird",setup(_){const V=n("left"),a=n([]),s=n(0),y=n(!0),S=n(!0),z=n(!1),k=n(""),c=n(parseInt(localStorage.getItem("rifaiWirdFontSize")||"24")),p=n(localStorage.getItem("rifaiWirdTextColor")||"#000000"),d=n(localStorage.getItem("rifaiWirdBackgroundColor")||"#E1D5D0"),Y=n(null);let $=0,j=0;const ee=[{value:"slide",label:"Slide"},{value:"fade",label:"Fade"},{value:"zoom",label:"Zoom"},{value:"flip",label:"Flip"},{value:"slideFade",label:"Slide and Fade"},{value:"bounce",label:"Bounce"},{value:"pageTurn",label:"Page Turn"}],T=n(localStorage.getItem("rifaiWirdTransition")||"slide"),te=o=>{const t=o.target,l=parseInt(t.value,10);M.value=l},oe=()=>{s.value=0},le=()=>{y.value=!y.value},ae=()=>{S.value=!S.value},U=o=>o?o.replace(/<br>/g," "):"",A=o=>o.split(/\n\s*\n/).map(t=>t.trim()).filter(t=>t.length>0&&t!=="Rifai Wird").map(t=>t.replace(/\n/g,"<br>"));v(()=>a.value[s.value]||""),v(()=>a.value[s.value-1]||""),v(()=>a.value[s.value+1]||"");const M=v({get:()=>s.value+1,set:o=>{s.value=P(o-1)}}),X=v(()=>W.value?Math.min(B.value*.75,18):B.value*.75),se=async()=>{z.value=!0,k.value="";try{const b="https://api.github.com/repos/yashineonline/ilahiRepository/contents/rifaiWird.txt";console.log("Fetching Rifai Wird from GitHub:",b);const D=await fetch(b,{headers:{Accept:"application/vnd.github.v3.raw"}});if(!D.ok)throw new Error(`HTTP error! status: ${D.status}`);const q=await D.text();console.log("Fetched text:",q.substring(0,100)+"..."),a.value=A(q),console.log("Split wird:",a.value)}catch(o){console.error("Error fetching Rifai Wird from GitHub:",o);try{console.log("Fetching Rifai Wird from local file");const t=await fetch("/rifaiWird.txt");if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const l=await t.text();console.log("Fetched text from local file:",l.substring(0,100)+"..."),a.value=A(l),console.log("Split wird from local file:",a.value)}catch(t){console.error("Error fetching local Rifai Wird:",t),k.value="Failed to load Rifai Wird. Please try again later."}}finally{z.value=!1,s.value=0}},E=()=>{s.value<a.value.length-1&&(s.value=P(s.value+1),V.value="left")},L=()=>{s.value>0&&(s.value=P(s.value-1),V.value="right")};let G=0;const N=o=>{const t=new Date().getTime();t-G>Ye&&(o.key==="ArrowLeft"?L():o.key==="ArrowRight"&&E(),G=t)},ne=o=>{$=o.touches[0].clientX},ie=o=>{j=o.touches[0].clientX},re=()=>{const o=$-j;Math.abs(o)>50&&(o>0?E():L())},P=o=>Math.max(0,Math.min(o,a.value.length-1));O([c,p,d],([o,t,l])=>{localStorage.setItem("rifaiWirdFontSize",o.toString()),localStorage.setItem("rifaiWirdTextColor",t),localStorage.setItem("rifaiWirdBackgroundColor",l)}),O(T,o=>{localStorage.setItem("rifaiWirdTransition",o)}),fe(()=>{localStorage.getItem("rifaiWirdFontSize")||localStorage.setItem("rifaiWirdFontSize",c.value.toString()),localStorage.getItem("rifaiWirdTextColor")||localStorage.setItem("rifaiWirdTextColor",p.value),localStorage.getItem("rifaiWirdBackgroundColor")||localStorage.setItem("rifaiWirdBackgroundColor",d.value)});const W=n(!1),R=()=>{W.value=window.innerWidth<768};ge(async()=>{console.log("RifaiWird component mounted");try{await se(),console.log("Fetched Wird:",a.value),console.log("Number of parts:",a.value.length),console.log("First part:",a.value[0]),console.log("Last part:",a.value[a.value.length-1])}catch(o){console.error("Error fetching Wird:",o)}document.addEventListener("keydown",N),R(),window.addEventListener("resize",R)}),me(()=>{document.removeEventListener("keydown",N),window.removeEventListener("resize",R)});const u=n(!1),H=n(!1),K=he(),ce=()=>{u.value=!u.value,K.setNavigationVisibility(!u.value)},ue=()=>{H.value=!H.value},de=()=>{u.value=!1,K.setNavigationVisibility(!0)},B=v(()=>W.value?Math.min(c.value,24):c.value);return(o,t)=>(i(),r("div",{class:Q(["rifai-wird-container p-4",{fullscreen:u.value}])},[e("div",ke,[e("button",{onClick:de,class:"btn btn-circle btn-sm"},[f(x(w),{icon:["fas","arrow-left"]})]),u.value?C("",!0):(i(),r("h1",Te,"Rifai Wird")),e("div",We,[e("button",{onClick:ce,class:"btn btn-circle btn-sm"},[f(x(w),{icon:["fas",u.value?"compress":"expand"]},null,8,["icon"])]),e("button",{onClick:ue,class:"btn btn-circle btn-sm"},[f(x(w),{icon:["fas","cog"]})])])]),H.value?(i(),r("div",Ce,[e("div",Ie,[Fe,ze,e("div",Me,[e("div",Ee,[e("div",Le,[Ne,g(e("input",{type:"range",id:"fontSize",min:"16",max:"132","onUpdate:modelValue":t[0]||(t[0]=l=>c.value=l),class:"range range-primary w-32 custom-range"},null,512),[[I,c.value]]),e("span",Pe,m(c.value)+"px",1)]),e("div",Re,[He,g(e("input",{type:"color",id:"textColor","onUpdate:modelValue":t[1]||(t[1]=l=>p.value=l),class:"w-8 h-8"},null,512),[[I,p.value]])]),e("div",Be,[De,g(e("input",{type:"color",id:"backgroundColor","onUpdate:modelValue":t[2]||(t[2]=l=>d.value=l),class:"w-8 h-8"},null,512),[[I,d.value]])])]),e("div",Ve,[$e,g(e("select",{id:"transitionSelect","onUpdate:modelValue":t[3]||(t[3]=l=>T.value=l),class:"select select-primary select-sm bg-white"},[(i(),r(Z,null,J(ee,l=>e("option",{key:l.value,value:l.value},m(l.label),9,je)),64))],512),[[pe,T.value]]),e("div",Ue,[e("button",{onClick:oe,class:"btn btn-primary btn-sm"},"Restart"),e("button",{onClick:le,class:"btn btn-secondary btn-sm"},m(y.value?"Hide":"Show")+" Previous ",1),e("button",{onClick:ae,class:"btn btn-secondary btn-sm"},m(S.value?"Hide":"Show")+" Next ",1)])])])])])):C("",!0),e("div",{class:"wird-display p-4 rounded-lg shadow-lg flex flex-col items-center",style:F({fontSize:`${B.value}px`,color:p.value,backgroundColor:d.value}),ref_key:"wirdDisplay",ref:Y,onTouchstart:ne,onTouchmove:ie,onTouchend:re,tabindex:"0",onKeydown:N},[z.value?(i(),r("div",Ae)):k.value?(i(),r("div",Xe,m(k.value),1)):(i(),r("div",{key:2,class:"relative flex flex-col h-[60vh] w-full mx-auto shadow-lg rounded-lg",style:F({backgroundColor:d.value})},[y.value?(i(),r("div",{key:0,class:"flex-shrink-0 w-full p-2 text-gray-400 text-center",style:F({fontSize:`${X.value}px`})},[e("div",{innerHTML:U(a.value[s.value-1])},null,8,Ge)],4)):C("",!0),f(we,{name:T.value,tag:"div",mode:"out-in",class:"flex-grow flex items-center justify-center overflow-auto"},{default:be(()=>[(i(!0),r(Z,null,J(a.value,(l,b)=>g((i(),r("div",{key:b,class:"w-full h-full flex items-center justify-center p-4 overflow-y-auto"},[e("div",{class:"wird-part-content",innerHTML:l},null,8,Ke)])),[[xe,s.value===b]])),128))]),_:1},8,["name"]),S.value?(i(),r("div",{key:1,class:"flex-shrink-0 w-full p-2 text-gray-400 text-center",style:F({fontSize:`${X.value}px`})},[e("div",{innerHTML:U(a.value[s.value+1])},null,8,qe)],4)):C("",!0)],4)),e("div",{class:Q(["navigation mt-4 flex justify-between items-center w-full",{mobile:W.value}])},[e("button",{onClick:L,class:"btn btn-circle",disabled:s.value===0},[f(x(w),{icon:["fas","chevron-left"]})],8,Oe),e("div",Ze,[g(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>M.value=l),type:"number",min:"1",max:a.value.length,class:"w-16 text-center mr-2 bg-white",onChange:te},null,40,Je),[[I,M.value,void 0,{number:!0}]]),e("span",null,"/ "+m(a.value.length),1)]),e("button",{onClick:E,class:"btn btn-circle",disabled:s.value===a.value.length-1},[f(x(w),{icon:["fas","chevron-right"]})],8,Qe)],2)],36)],2))}}),ot=Se(et,[["__scopeId","data-v-27d71fdf"]]);export{ot as default};
