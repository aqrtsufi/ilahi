import{d as me,r as n,c as v,w as R,a as fe,o as he,b as pe,u as be,e as i,f as r,g as e,h as g,i as x,F as w,j as C,k as m,v as I,t as f,l as xe,m as O,n as Z,p as F,q as we,s as _e,T as ye,x as J,y as Se,z as ke,_ as Te}from"./main-BNoT_QsT.js";const h=_=>(Se("data-v-388b9cba"),_=_(),ke(),_),We={class:"flex justify-between items-center mb-4"},Ce={key:0,class:"text-3xl font-bold"},Ie={class:"flex gap-2"},Fe={key:0,class:"controls mb-4 p-4 bg-gray-100 rounded-lg"},ze={class:"collapse collapse-arrow"},qe=h(()=>e("input",{type:"checkbox"},null,-1)),Me=h(()=>e("div",{class:"collapse-title text-xl font-medium"}," Settings ",-1)),Ee={class:"collapse-content"},Le={class:"flex flex-wrap items-center gap-4 mb-2"},Ne={class:"flex items-center"},Pe=h(()=>e("label",{for:"fontSize",class:"mr-2"},"Font Size:",-1)),He={class:"ml-2"},Be={class:"flex items-center"},De=h(()=>e("label",{for:"textColor",class:"mr-2"},"Text:",-1)),Qe={class:"flex items-center"},Ve=h(()=>e("label",{for:"backgroundColor",class:"mr-2"},"Background:",-1)),$e={class:"flex flex-wrap items-center gap-2"},je=h(()=>e("label",{for:"transitionSelect",class:"mr-2"},"Transition:",-1)),Ue=["value"],Ae={class:"flex flex-wrap items-center gap-2 mt-2"},Xe={key:0,class:"loading loading-spinner loading-lg"},Ge={key:1},Ke=["innerHTML"],Re=["innerHTML"],Oe=["innerHTML"],Ze=["disabled"],Je={class:"flex items-center"},Ye=["max"],et=["disabled"],tt=300,ot=me({__name:"QadiriWird",emits:["go-back"],setup(_,{emit:Y}){const Q=n("left"),a=n([]),s=n(0),y=n(!0),S=n(!0),z=n(!1),k=n(""),c=n(parseInt(localStorage.getItem("qadiriWirdFontSize")||"24")),p=n(localStorage.getItem("qadiriWirdTextColor")||"#229B36"),d=n(localStorage.getItem("qadiriWirdBackgroundColor")||"#E1D5D0"),ee=n(null);let V=0,$=0;const te=[{value:"slide",label:"Slide"},{value:"fade",label:"Fade"},{value:"zoom",label:"Zoom"},{value:"flip",label:"Flip"},{value:"slideFade",label:"Slide and Fade"},{value:"bounce",label:"Bounce"},{value:"pageTurn",label:"Page Turn"}],T=n(localStorage.getItem("qadiriWirdTransition")||"slide"),oe=o=>{const t=o.target,l=parseInt(t.value,10);q.value=l},le=()=>{s.value=0},ae=()=>{y.value=!y.value},se=()=>{S.value=!S.value},j=o=>o?o.replace(/<br>/g," "):"",U=o=>o.split(/\n\s*\n/).map(t=>t.trim()).filter(t=>t.length>0&&t!=="Qadiri Wird").map(t=>t.replace(/\n/g,"<br>"));v(()=>a.value[s.value]||""),v(()=>a.value[s.value-1]||""),v(()=>a.value[s.value+1]||"");const q=v({get:()=>s.value+1,set:o=>{s.value=N(o-1)}}),A=v(()=>W.value?Math.min(B.value*.75,18):B.value*.75),ne=async()=>{z.value=!0,k.value="";try{const b="https://api.github.com/repos/yashineonline/ilahiRepository/contents/qadiriWird.txt";console.log("Fetching Qadiri Wird from GitHub:",b);const D=await fetch(b,{headers:{Accept:"application/vnd.github.v3.raw"}});if(!D.ok)throw new Error(`HTTP error! status: ${D.status}`);const K=await D.text();console.log("Fetched text:",K.substring(0,100)+"..."),a.value=U(K),console.log("Split wird:",a.value)}catch(o){console.error("Error fetching Qadiri Wird from GitHub:",o);try{console.log("Fetching Qadiri Wird from local file");const t=await fetch("/qadiriWird.txt");if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const l=await t.text();console.log("Fetched text from local file:",l.substring(0,100)+"..."),a.value=U(l),console.log("Split wird from local file:",a.value)}catch(t){console.error("Error fetching local Qadiri Wird:",t),k.value="Failed to load Qadiri Wird. Please try again later."}}finally{z.value=!1,s.value=0}},M=()=>{s.value<a.value.length-1&&(s.value=N(s.value+1),Q.value="left")},E=()=>{s.value>0&&(s.value=N(s.value-1),Q.value="right")};let X=0;const L=o=>{const t=new Date().getTime();t-X>tt&&(o.key==="ArrowLeft"?E():o.key==="ArrowRight"&&M(),X=t)},ie=o=>{V=o.touches[0].clientX},re=o=>{$=o.touches[0].clientX},ce=()=>{const o=V-$;Math.abs(o)>50&&(o>0?M():E())},N=o=>Math.max(0,Math.min(o,a.value.length-1));R([c,p,d],([o,t,l])=>{localStorage.setItem("qadiriWirdFontSize",o.toString()),localStorage.setItem("qadiriWirdTextColor",t),localStorage.setItem("qadiriWirdBackgroundColor",l)}),R(T,o=>{localStorage.setItem("qadiriWirdTransition",o)}),fe(()=>{localStorage.getItem("qadiriWirdFontSize")||localStorage.setItem("qadiriWirdFontSize",c.value.toString()),localStorage.getItem("qadiriWirdTextColor")||localStorage.setItem("qadiriWirdTextColor",p.value),localStorage.getItem("qadiriWirdBackgroundColor")||localStorage.setItem("qadiriWirdBackgroundColor",d.value)});const W=n(!1),P=()=>{W.value=window.innerWidth<768};he(async()=>{console.log("QadiriWird component mounted");try{await ne(),console.log("Fetched Wird:",a.value),console.log("Number of parts:",a.value.length),console.log("First part:",a.value[0]),console.log("Last part:",a.value[a.value.length-1])}catch(o){console.error("Error fetching Wird:",o)}document.addEventListener("keydown",L),P(),window.addEventListener("resize",P)}),pe(()=>{document.removeEventListener("keydown",L),window.removeEventListener("resize",P)});const u=n(!1),H=n(!1),G=be(),ue=()=>{u.value=!u.value,G.setNavigationVisibility(!u.value)},de=()=>{H.value=!H.value},ve=Y,ge=()=>{u.value=!1,G.setNavigationVisibility(!0),ve("go-back")},B=v(()=>W.value?Math.min(c.value,24):c.value);return(o,t)=>(i(),r("div",{class:J(["qadiri-wird-container p-4",{fullscreen:u.value}])},[e("div",We,[e("button",{onClick:ge,class:"btn btn-circle btn-sm"},[g(x(w),{icon:["fas","arrow-left"]})]),u.value?C("",!0):(i(),r("h1",Ce,"Qadiri Wird")),e("div",Ie,[e("button",{onClick:ue,class:"btn btn-circle btn-sm"},[g(x(w),{icon:["fas",u.value?"compress":"expand"]},null,8,["icon"])]),e("button",{onClick:de,class:"btn btn-circle btn-sm"},[g(x(w),{icon:["fas","cog"]})])])]),H.value?(i(),r("div",Fe,[e("div",ze,[qe,Me,e("div",Ee,[e("div",Le,[e("div",Ne,[Pe,m(e("input",{type:"range",id:"fontSize",min:"16",max:"132","onUpdate:modelValue":t[0]||(t[0]=l=>c.value=l),class:"range range-primary w-32 custom-range"},null,512),[[I,c.value]]),e("span",He,f(c.value)+"px",1)]),e("div",Be,[De,m(e("input",{type:"color",id:"textColor","onUpdate:modelValue":t[1]||(t[1]=l=>p.value=l),class:"w-8 h-8"},null,512),[[I,p.value]])]),e("div",Qe,[Ve,m(e("input",{type:"color",id:"backgroundColor","onUpdate:modelValue":t[2]||(t[2]=l=>d.value=l),class:"w-8 h-8"},null,512),[[I,d.value]])])]),e("div",$e,[je,m(e("select",{id:"transitionSelect","onUpdate:modelValue":t[3]||(t[3]=l=>T.value=l),class:"select select-primary select-sm bg-white"},[(i(),r(O,null,Z(te,l=>e("option",{key:l.value,value:l.value},f(l.label),9,Ue)),64))],512),[[xe,T.value]]),e("div",Ae,[e("button",{onClick:le,class:"btn btn-primary btn-sm"},"Restart"),e("button",{onClick:ae,class:"btn btn-secondary btn-sm"},f(y.value?"Hide":"Show")+" Previous ",1),e("button",{onClick:se,class:"btn btn-secondary btn-sm"},f(S.value?"Hide":"Show")+" Next ",1)])])])])])):C("",!0),e("div",{class:"wird-display p-4 rounded-lg shadow-lg flex flex-col items-center",style:F({fontSize:`${B.value}px`,color:p.value,backgroundColor:d.value}),ref_key:"wirdDisplay",ref:ee,onTouchstart:ie,onTouchmove:re,onTouchend:ce,tabindex:"0",onKeydown:L},[z.value?(i(),r("div",Xe)):k.value?(i(),r("div",Ge,f(k.value),1)):(i(),r("div",{key:2,class:"relative flex flex-col h-[60vh] w-full mx-auto shadow-lg rounded-lg",style:F({backgroundColor:d.value})},[y.value?(i(),r("div",{key:0,class:"flex-shrink-0 w-full p-2 text-gray-400 text-center",style:F({fontSize:`${A.value}px`})},[e("div",{innerHTML:j(a.value[s.value-1])},null,8,Ke)],4)):C("",!0),g(ye,{name:T.value,tag:"div",mode:"out-in",class:"flex-grow flex items-center justify-center overflow-auto"},{default:we(()=>[(i(!0),r(O,null,Z(a.value,(l,b)=>m((i(),r("div",{key:b,class:"w-full h-full flex items-center justify-center p-4 overflow-y-auto"},[e("div",{class:"wird-part-content",innerHTML:l},null,8,Re)])),[[_e,s.value===b]])),128))]),_:1},8,["name"]),S.value?(i(),r("div",{key:1,class:"flex-shrink-0 w-full p-2 text-gray-400 text-center",style:F({fontSize:`${A.value}px`})},[e("div",{innerHTML:j(a.value[s.value+1])},null,8,Oe)],4)):C("",!0)],4)),e("div",{class:J(["navigation mt-4 flex justify-between items-center w-full",{mobile:W.value}])},[e("button",{onClick:E,class:"btn btn-circle",disabled:s.value===0},[g(x(w),{icon:["fas","chevron-left"]})],8,Ze),e("div",Je,[m(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>q.value=l),type:"number",min:"1",max:a.value.length,class:"w-16 text-center mr-2 bg-white",onChange:oe},null,40,Ye),[[I,q.value,void 0,{number:!0}]]),e("span",null,"/ "+f(a.value.length),1)]),e("button",{onClick:M,class:"btn btn-circle",disabled:s.value===a.value.length-1},[g(x(w),{icon:["fas","chevron-right"]})],8,et)],2)],36)],2))}}),at=Te(ot,[["__scopeId","data-v-388b9cba"]]);export{at as default};
