import{d as A,r as h,o as _,e as s,g as a,m as n,p as d,l as D,s as x,t as b,F as v,i as k,n as M,q as z,z as N,C as F,f as T,B as S,U as H,T as $,L as C,k as t}from"./vue-Car_zgcF.js";import{b as q,a as E,h as R}from"./main-Do_d1RPz.js";import{A as Z}from"./AudioPlayer-BELk6Sky.js";import"./pdf-DFMvyHOF.js";import"./fa-CyU76MD1.js";function j(i){return i.includes("youtube.com")||i.includes("youtu.be")?"youtube":i.includes("drive.google.com")?"googledrive":i.includes("soundcloud.com")?"soundcloud":"audio"}const Q={class:"w-full max-w-4xl mx-auto p-4"},U={class:"text-center mb-8"},G={key:0,class:"alert alert-info shadow-lg mt-4"},J={key:1,class:"alert alert-info shadow-lg mt-4"},K={key:0,class:"min-h-[200px] flex items-center justify-center"},O={key:1,class:"alert alert-error shadow-lg"},W={key:2,class:"space-y-6"},X=["data-zikr-index"],Y={class:"card-body"},ee=["onClick"],te={class:"mt-6 space-y-6"},se={key:0},ae={key:1,class:"card-body prose max-w-none"},oe=["innerHTML"],de=A({__name:"ZikrPlayer",setup(i){const f=q(),u=E(),y=h(!0),p=h(""),o=h(-1),g=h(!1),L=async r=>{if(!g.value){g.value=!0;try{if(o.value===r)o.value=-1;else{o.value!==-1&&(o.value=-1,await C()),o.value=r,await C();const e=document.querySelector(`[data-zikr-index="${r}"]`);e==null||e.scrollIntoView({behavior:"smooth",block:"start"})}}catch(e){console.error("Error toggling player:",e)}finally{setTimeout(()=>{g.value=!1},100)}}};_(async()=>{window.scrollTo(0,0)});const P=r=>{};return _(async()=>{try{y.value=!0,u.zikrItems.length===0&&await u.fetchSongs(!0)}catch{p.value="Failed to load zikr samples. Please try again later."}finally{y.value=!1}}),(r,e)=>{const m=D("font-awesome-icon");return t(),s("div",Q,[a("div",U,[e[3]||(e[3]=a("h1",{class:"text-4xl font-bold mb-2"},"AQRT Zikr Practice",-1)),e[4]||(e[4]=a("p",{class:"text-base-content/70"},"Do zikr by following along with Shaykh Taner and Shaykha Muzeyyen Ansari!",-1)),n(u).zikrItems.length===0&&!y.value?(t(),s("div",G,[d(m,{icon:"info-circle",class:"h-6 w-6"}),a("span",null,[e[0]||(e[0]=x("Tap on the refresh button ")),d(m,{icon:"rotate",class:"text-primary mx-1"}),e[1]||(e[1]=x(" above to load the zikr recordings."))])])):(t(),s("div",J,[e[2]||(e[2]=a("span",null,"Tap on the zikr below that you wish to listen and recite at the same time.",-1)),d(m,{icon:"hand-point-down",class:"h-6 w-6"})]))]),y.value?(t(),s("div",K,e[5]||(e[5]=[a("div",{class:"loading loading-spinner loading-lg text-primary"},null,-1)]))):p.value?(t(),s("div",O,[d(m,{icon:"triangle-exclamation",class:"h-6 w-6"}),a("span",null,b(p.value),1)])):(t(),s("div",W,[(t(!0),s(v,null,k(n(u).zikrItems,(c,l)=>(t(),s("div",{key:l,"data-zikr-index":l,class:M(["card zikr-fullwidth-card bg-base-100 shadow-xl hover:shadow-2xl transition-all cursor-pointer hover:-translate-y-1",{"bg-gray-800/90 text-white":n(f).theme==="dark","bg-white/90 text-gray-800":n(f).theme==="light"}])},[a("div",Y,[a("h2",{class:"card-title text-2xl",onClick:w=>L(l)},b(c.zikrTitle),9,ee),d($,{name:"fade"},{default:z(()=>[N(a("div",te,[o.value===l?(t(),s("div",se,[(t(),S(H,null,{default:z(()=>[(t(),S(Z,{key:`player-${l}`,"audio-src":c.zikrLink,"player-type":n(j)(c.zikrLink),onPlayerReady:P},null,8,["audio-src","player-type"]))]),_:2},1024))])):T("",!0),c.zikrLyrics?(t(),s("div",ae,[(t(!0),s(v,null,k(c.zikrLyrics,(w,I)=>(t(),s("div",{key:I,class:"mb-6 last:mb-0"},[(t(!0),s(v,null,k(w,(B,V)=>(t(),s("div",{key:V,class:"text-lg leading-relaxed",innerHTML:n(R)(B)},null,8,oe))),128))]))),128))])):T("",!0)],512),[[F,o.value===l]])]),_:2},1024)])],10,X))),128))]))])}}});export{de as default};
