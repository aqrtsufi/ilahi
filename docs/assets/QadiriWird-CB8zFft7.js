import{d as ce,r as n,c as v,w as A,a as ue,o as de,b as ve,u as me,e as i,f as r,g as t,h as p,i as m,j as b,F as h,k as x,v as T,t as g,l as ge,m as fe,n as pe,p as C,q as be,T as he,s as X,_ as xe}from"./main-B0sxKJfm.js";const we={class:"flex justify-between items-center mb-4"},ye={key:0,class:"text-3xl font-bold"},ke={class:"flex gap-2"},Se={key:0,class:"controls mb-4 p-4 bg-base-200 text-base-content rounded-lg"},_e={class:"collapse collapse-arrow"},Te={class:"collapse-content"},Ce={class:"flex flex-wrap items-center gap-4 mb-2"},We={class:"flex items-center"},Ie={class:"ml-2"},qe={class:"flex items-center"},ze={class:"flex items-center"},Fe={class:"flex flex-wrap items-center gap-2"},Me=["value"],Ee={class:"flex flex-wrap items-center gap-2 mt-2"},Le={key:0,class:"loading loading-spinner loading-lg"},Pe={key:1},Ne=["innerHTML"],Be=["innerHTML"],He=["innerHTML"],De=["disabled"],Ve={class:"flex items-center"},$e=["max"],Qe=["disabled"],Ue=300,je=ce({__name:"QadiriWird",emits:["go-back"],setup(Ae,{emit:K}){const B=n("left"),s=n([]),a=n(0),w=n(!0),y=n(!0),W=n(!1),k=n(""),c=n(parseInt(localStorage.getItem("qadiriWirdFontSize")||"24")),f=n(localStorage.getItem("qadiriWirdTextColor")||"#229B36"),d=n(localStorage.getItem("qadiriWirdBackgroundColor")||"#E1D5D0"),R=n(null);let H=0,D=0;const G=[{value:"slide",label:"Slide"},{value:"fade",label:"Fade"},{value:"zoom",label:"Zoom"},{value:"flip",label:"Flip"},{value:"slideFade",label:"Slide and Fade"},{value:"bounce",label:"Bounce"},{value:"pageTurn",label:"Page Turn"}],S=n(localStorage.getItem("qadiriWirdTransition")||"slide"),O=l=>{const e=l.target,o=parseInt(e.value,10);I.value=o},Z=()=>{a.value=0},J=()=>{w.value=!w.value},Y=()=>{y.value=!y.value},V=l=>l?l.replace(/<br>/g," "):"",$=l=>l.split(/\n\s*\n/).map(e=>e.trim()).filter(e=>e.length>0&&e!=="Qadiri Wird").map(e=>e.replace(/\n/g,"<br>"));v(()=>s.value[a.value]||""),v(()=>s.value[a.value-1]||""),v(()=>s.value[a.value+1]||"");const I=v({get:()=>a.value+1,set:l=>{a.value=M(l-1)}}),Q=v(()=>_.value?Math.min(P.value*.75,18):P.value*.75),ee=async()=>{W.value=!0,k.value="";try{const N=await fetch("https://api.github.com/repos/yashineonline/ilahiRepository/contents/qadiriWird.txt",{headers:{Accept:"application/vnd.github.v3.raw"}});if(!N.ok)throw new Error(`HTTP error! status: ${N.status}`);const re=await N.text();s.value=$(re)}catch(l){console.error("Error fetching Qadiri Wird from GitHub:",l);try{const e=await fetch("/qadiriWird.txt");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const o=await e.text();s.value=$(o)}catch(e){console.error("Error fetching local Qadiri Wird:",e),k.value="Failed to load Qadiri Wird. Please try again later."}}finally{W.value=!1,a.value=0}},q=()=>{a.value<s.value.length-1&&(a.value=M(a.value+1),B.value="left")},z=()=>{a.value>0&&(a.value=M(a.value-1),B.value="right")};let U=0;const F=l=>{const e=new Date().getTime();e-U>Ue&&(l.key==="ArrowLeft"?z():l.key==="ArrowRight"&&q(),U=e)},te=l=>{H=l.touches[0].clientX},le=l=>{D=l.touches[0].clientX},ae=()=>{const l=H-D;Math.abs(l)>50&&(l>0?q():z())},M=l=>Math.max(0,Math.min(l,s.value.length-1));A([c,f,d],([l,e,o])=>{localStorage.setItem("qadiriWirdFontSize",l.toString()),localStorage.setItem("qadiriWirdTextColor",e),localStorage.setItem("qadiriWirdBackgroundColor",o)}),A(S,l=>{localStorage.setItem("qadiriWirdTransition",l)}),ue(()=>{localStorage.getItem("qadiriWirdFontSize")||localStorage.setItem("qadiriWirdFontSize",c.value.toString()),localStorage.getItem("qadiriWirdTextColor")||localStorage.setItem("qadiriWirdTextColor",f.value),localStorage.getItem("qadiriWirdBackgroundColor")||localStorage.setItem("qadiriWirdBackgroundColor",d.value)});const _=n(!1),E=()=>{_.value=window.innerWidth<768};de(async()=>{try{await ee()}catch(l){console.error("Error fetching Wird:",l)}document.addEventListener("keydown",F),E(),window.addEventListener("resize",E)}),ve(()=>{document.removeEventListener("keydown",F),window.removeEventListener("resize",E)});const u=n(!1),L=n(!1),j=me(),oe=()=>{u.value=!u.value,j.setNavigationVisibility(!u.value)},ne=()=>{L.value=!L.value},se=K,ie=()=>{u.value=!1,j.setNavigationVisibility(!0),se("go-back")},P=v(()=>_.value?Math.min(c.value,24):c.value);return(l,e)=>(r(),i("div",{class:X(["qadiri-wird-container p-4",{fullscreen:u.value}])},[t("div",we,[t("button",{onClick:ie,class:"btn btn-circle btn-sm"},[m(b(h),{icon:["fas","arrow-left"]})]),u.value?p("",!0):(r(),i("h1",ye,"Qadiri Wird")),t("div",ke,[t("button",{onClick:oe,class:"btn btn-circle btn-sm"},[m(b(h),{icon:["fas",u.value?"compress":"expand"]},null,8,["icon"])]),t("button",{onClick:ne,class:"btn btn-circle btn-sm"},[m(b(h),{icon:["fas","cog"]})])])]),L.value?(r(),i("div",Se,[t("div",_e,[e[9]||(e[9]=t("input",{type:"checkbox"},null,-1)),e[10]||(e[10]=t("div",{class:"collapse-title text-xl font-medium"}," Settings ",-1)),t("div",Te,[t("div",Ce,[t("div",We,[e[5]||(e[5]=t("label",{for:"fontSize",class:"mr-2"},"Font Size:",-1)),x(t("input",{type:"range",id:"fontSize",min:"16",max:"132","onUpdate:modelValue":e[0]||(e[0]=o=>c.value=o),class:"range range-primary w-32 custom-range"},null,512),[[T,c.value]]),t("span",Ie,g(c.value)+"px",1)]),t("div",qe,[e[6]||(e[6]=t("label",{for:"textColor",class:"mr-2"},"Text:",-1)),x(t("input",{type:"color",id:"textColor","onUpdate:modelValue":e[1]||(e[1]=o=>f.value=o),class:"w-8 h-8"},null,512),[[T,f.value]])]),t("div",ze,[e[7]||(e[7]=t("label",{for:"backgroundColor",class:"mr-2"},"Background:",-1)),x(t("input",{type:"color",id:"backgroundColor","onUpdate:modelValue":e[2]||(e[2]=o=>d.value=o),class:"w-8 h-8"},null,512),[[T,d.value]])])]),t("div",Fe,[e[8]||(e[8]=t("label",{for:"transitionSelect",class:"mr-2"},"Transition:",-1)),x(t("select",{id:"transitionSelect","onUpdate:modelValue":e[3]||(e[3]=o=>S.value=o),class:"select select-primary select-sm"},[(r(),i(fe,null,pe(G,o=>t("option",{key:o.value,value:o.value},g(o.label),9,Me)),64))],512),[[ge,S.value]]),t("div",Ee,[t("button",{onClick:Z,class:"btn btn-primary btn-sm"},"Restart"),t("button",{onClick:J,class:"btn btn-secondary btn-sm"},g(w.value?"Hide":"Show")+" Previous ",1),t("button",{onClick:Y,class:"btn btn-secondary btn-sm"},g(y.value?"Hide":"Show")+" Next ",1)])])])])])):p("",!0),t("div",{class:"wird-display p-4 rounded-lg shadow-lg flex flex-col items-center",style:C({fontSize:`${P.value}px`,color:f.value,backgroundColor:d.value}),ref_key:"wirdDisplay",ref:R,onTouchstart:te,onTouchmove:le,onTouchend:ae,tabindex:"0",onKeydown:F},[W.value?(r(),i("div",Le)):k.value?(r(),i("div",Pe,g(k.value),1)):(r(),i("div",{key:2,class:"relative flex flex-col h-[60vh] w-full mx-auto shadow-lg rounded-lg",style:C({backgroundColor:d.value})},[w.value?(r(),i("div",{key:0,class:"flex-shrink-0 w-full p-2 text-gray-400 text-center",style:C({fontSize:`${Q.value}px`})},[t("div",{innerHTML:V(s.value[a.value-1])},null,8,Ne)],4)):p("",!0),m(he,{name:S.value,mode:"out-in"},{default:be(()=>[s.value[a.value]!==void 0?(r(),i("div",{key:a.value,class:"w-full h-full flex items-center justify-center p-4 overflow-y-auto"},[t("div",{class:"wird-part-content",innerHTML:s.value[a.value]},null,8,Be)])):p("",!0)]),_:1},8,["name"]),y.value?(r(),i("div",{key:1,class:"flex-shrink-0 w-full p-2 text-gray-400 text-center",style:C({fontSize:`${Q.value}px`})},[t("div",{innerHTML:V(s.value[a.value+1])},null,8,He)],4)):p("",!0)],4)),t("div",{class:X(["navigation mt-4 flex justify-between items-center w-full",{mobile:_.value}])},[t("button",{onClick:z,class:"btn btn-circle",disabled:a.value===0},[m(b(h),{icon:["fas","chevron-left"]})],8,De),t("div",Ve,[x(t("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>I.value=o),type:"number",min:"1",max:s.value.length,class:"w-16 text-center mr-2",onChange:O},null,40,$e),[[T,I.value,void 0,{number:!0}]]),t("span",null,"/ "+g(s.value.length),1)]),t("button",{onClick:q,class:"btn btn-circle",disabled:a.value===s.value.length-1},[m(b(h),{icon:["fas","chevron-right"]})],8,Qe)],2)],36)],2))}}),Re=xe(je,[["__scopeId","data-v-a6f64263"]]);export{Re as default};
