import{d as V,r as m,o as w,e as a,g as s,m as n,p as c,l as A,s as _,t as x,F as v,i as g,n as D,q as b,z as M,C as N,f as z,B as T,U as F,T as H,L as S,k as t}from"./vue-Car_zgcF.js";import{b as $,u as j,j as q}from"./main-C8TRUm6Z.js";import{A as E,g as R}from"./playerUtils-BUsoeVxT.js";import"./pdf-DFMvyHOF.js";import"./fa-CoSJ4QZC.js";const Z={class:"w-full max-w-4xl mx-auto p-4"},Q={class:"text-center mb-8"},U={key:0,class:"alert alert-info shadow-lg mt-4"},G={key:1,class:"alert alert-info shadow-lg mt-4"},J={key:0,class:"min-h-[200px] flex items-center justify-center"},K={key:1,class:"alert alert-error shadow-lg"},O={key:2,class:"space-y-6"},W=["data-zikr-index"],X={class:"card-body"},Y=["onClick"],ee={class:"mt-6 space-y-6"},te={key:0},ae={key:1,class:"card-body prose max-w-none"},se=["innerHTML"],de=V({__name:"ZikrPlayer",setup(oe){const k=$(),d=j(),u=m(!0),h=m(""),o=m(-1),p=m(!1),C=async r=>{if(!p.value){p.value=!0;try{if(o.value===r)o.value=-1;else{o.value!==-1&&(o.value=-1,await S()),o.value=r,await S();const e=document.querySelector(`[data-zikr-index="${r}"]`);e==null||e.scrollIntoView({behavior:"smooth",block:"start"})}}catch(e){console.error("Error toggling player:",e)}finally{setTimeout(()=>{p.value=!1},100)}}};w(async()=>{window.scrollTo(0,0)});const L=r=>{};return w(async()=>{try{u.value=!0,d.zikrItems.length===0&&await d.fetchSongs(!0)}catch{h.value="Failed to load zikr samples. Please try again later."}finally{u.value=!1}}),(r,e)=>{const y=A("font-awesome-icon");return t(),a("div",Z,[s("div",Q,[e[3]||(e[3]=s("h1",{class:"text-4xl font-bold mb-2"},"AQRT Zikr Practice",-1)),e[4]||(e[4]=s("p",{class:"text-base-content/70"},"Do zikr by following along with Shaykh Taner and Shaykha Muzeyyen Ansari!",-1)),n(d).zikrItems.length===0&&!u.value?(t(),a("div",U,[c(y,{icon:"info-circle",class:"h-6 w-6"}),s("span",null,[e[0]||(e[0]=_("Tap on the refresh button ")),c(y,{icon:"rotate",class:"text-primary mx-1"}),e[1]||(e[1]=_(" above to load the zikr recordings."))])])):(t(),a("div",G,[e[2]||(e[2]=s("span",null,"Tap on the zikr below that you wish to listen and recite at the same time.",-1)),c(y,{icon:"hand-point-down",class:"h-6 w-6"})]))]),u.value?(t(),a("div",J,e[5]||(e[5]=[s("div",{class:"loading loading-spinner loading-lg text-primary"},null,-1)]))):h.value?(t(),a("div",K,[c(y,{icon:"triangle-exclamation",class:"h-6 w-6"}),s("span",null,x(h.value),1)])):(t(),a("div",O,[(t(!0),a(v,null,g(n(d).zikrItems,(i,l)=>(t(),a("div",{key:l,"data-zikr-index":l,class:D(["card zikr-fullwidth-card bg-base-100 shadow-xl hover:shadow-2xl transition-all cursor-pointer hover:-translate-y-1",{"bg-gray-800/90 text-white":n(k).theme==="dark","bg-white/90 text-gray-800":n(k).theme==="light"}])},[s("div",X,[s("h2",{class:"card-title text-2xl",onClick:f=>C(l)},x(i.zikrTitle),9,Y),c(H,{name:"fade"},{default:b(()=>[M(s("div",ee,[o.value===l?(t(),a("div",te,[(t(),T(F,null,{default:b(()=>[(t(),T(E,{key:`player-${l}`,"audio-src":i.zikrLink,"player-type":n(R)(i.zikrLink),onPlayerReady:L},null,8,["audio-src","player-type"]))]),_:2},1024))])):z("",!0),i.zikrLyrics?(t(),a("div",ae,[(t(!0),a(v,null,g(i.zikrLyrics,(f,P)=>(t(),a("div",{key:P,class:"mb-6 last:mb-0"},[(t(!0),a(v,null,g(f,(I,B)=>(t(),a("div",{key:B,class:"text-lg leading-relaxed",innerHTML:n(q)(I)},null,8,se))),128))]))),128))])):z("",!0)],512),[[N,o.value===l]])]),_:2},1024)])],10,W))),128))]))])}}});export{de as default};
