import{a as V,Y as L,_ as Y}from"./main-BRMEBJhw.js";import{d as U,r as u,c as h,o as M,e as B,g as o,t as g,p as A,m as D,k as N}from"./vue-Car_zgcF.js";import"./pdf-DFMvyHOF.js";import"./fa-CyU76MD1.js";const F={class:"card shadow-lg w-full max-w-4xl mx-auto"},$={class:"card-body"},j={class:"controls mb-4 flex flex-wrap justify-center gap-2",role:"toolbar","aria-label":"Playlist controls"},q=["aria-pressed"],z=["aria-pressed"],H={class:"youtube-player-container w-full",role:"region","aria-label":"YouTube video player"},G=U({__name:"YouTubePlayer",setup(J){const _=V(),t=u(null),n=u(!1),s=u(!1),r=u(0),v=u([]),i=u(1),c=h(()=>_.youtubeLinks),b=h(()=>{const e=s.value?v.value[r.value]:r.value;return c.value[e]||""}),m=()=>{v.value=Array.from({length:c.value.length},(e,a)=>a),s.value&&k(v.value)},k=e=>{for(let a=e.length-1;a>0;a--){const l=Math.floor(Math.random()*(a+1));[e[a],e[l]]=[e[l],e[a]]}},T=()=>{s.value=!s.value,m(),r.value=0,f()},C=()=>{t.value&&(n.value?t.value.pauseVideo():t.value.playVideo(),n.value=!n.value)},d=()=>{r.value<c.value.length-1?r.value++:r.value=0,f()},f=()=>{if(t.value){const e=b.value,{videoId:a}=x(e);if(!a){console.error("Invalid video ID for URL:",e),d();return}t.value.loadVideoById({videoId:a})}},x=e=>{if(!e)return console.error("Empty URL provided"),{videoId:"",startTime:0,endTime:0};const a=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube.com\/embed\/)([^&?/]+)/,/^([^&?/]+)$/];for(const l of a){const p=e.match(l);if(p&&p[1])return{videoId:p[1],startTime:0,endTime:0}}return console.error("Could not extract video ID from URL:",e),{videoId:"",startTime:0,endTime:0}},w=e=>{e.target.addEventListener("onStateChange",l=>{n.value=l.data===1,l.data===0&&d()})},I=e=>{console.error("YouTube player error:",e),console.error("Error data:",e.data),console.error("Current video URL:",b.value),console.error("Error meaning:",{2:"Invalid parameter",5:"HTML5 player error",100:"Video not found",101:"Embedding not allowed",150:"Embedding not allowed"}[e.data]||"Unknown error"),d()},P=()=>{if(t.value){const e=t.value.getCurrentTime();t.value.seekTo(e-5,!0)}},S=()=>{if(t.value){const e=t.value.getCurrentTime();t.value.seekTo(e+5,!0)}},E=()=>{i.value=Math.max(.25,i.value-.25),y()},R=()=>{i.value=Math.min(2,i.value+.25),y()},y=()=>{t.value&&t.value.setPlaybackRate(i.value)};return M(()=>{m();const e=document.createElement("div");e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),e.textContent="YouTube playlist player is ready",document.body.appendChild(e),setTimeout(()=>e.remove(),1e3)}),(e,a)=>(N(),B("div",F,[o("div",$,[o("div",j,[o("button",{onClick:C,class:"btn btn-primary","aria-label":"Toggle play","aria-pressed":n.value},g(n.value?"Pause":"Play"),9,q),o("button",{onClick:T,class:"btn btn-primary","aria-label":"Toggle shuffle mode","aria-pressed":s.value},g(s.value?"Sequential":"Shuffle"),9,z),o("button",{onClick:d,class:"btn btn-primary","aria-label":"Play next video"}," Next "),o("button",{onClick:P,class:"btn btn-primary","aria-label":"Rewind 5 seconds"}," -5s "),o("button",{onClick:S,class:"btn btn-primary","aria-label":"Forward 5 seconds"}," +5s "),o("button",{onClick:E,class:"btn btn-primary","aria-label":"Decrease playback speed"}," Slower "),o("button",{onClick:R,class:"btn btn-primary","aria-label":"Increase playback speed"}," Faster ")]),o("div",H,[A(D(L),{src:b.value,onReady:w,onError:I,ref_key:"youtubePlayer",ref:t,width:"100%",height:"100%",class:"youtube-player",title:`Playing video ${r.value+1} of ${c.value.length}`},null,8,["src","title"])])])]))}}),X=Y(G,[["__scopeId","data-v-2f4c1462"]]);export{X as default};
